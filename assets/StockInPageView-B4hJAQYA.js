import{_ as M}from"./BaseButton.vue_vue_type_script_setup_true_lang-BbsPoPWD.js";import{f as F}from"./dateRangeFormaterNaive-ClR-GZjc.js";import{K as ne,L as K,F as oe,a as re,Q as le}from"./Folder-BusfzW56.js";import{K as Z}from"./KeyboardArrowRightFilled-CYalm7BO.js";import{d as B,r as $,c as x,a,e as c,x as ie,L as z,g as u,f as S,w as N,o as _,F as T,H as A,l as Y,t as y,m as R,E as P,D as J,p as V,s as j,k as I,q as U,y as H,n as X,h as ce,I as ue}from"./index-BkxyZoiH.js";import{_ as de}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as pe}from"./BaseInput.vue_vue_type_script_setup_true_lang-DcQR9p6K.js";import{M as ee,L as te,A as k}from"./api.schema-BwRGpLBP.js";import{o as L,s as p,n as w,a as E,c as O}from"./types-D48y91Ee.js";import{q as Q}from"./index-B-cYlh1f.js";import{s as me}from"./index-D-Py80Oa.js";import{_ as he}from"./BaseAdvanceFilter.vue_vue_type_script_setup_true_lang-Dj25aLM3.js";import{_ as ge}from"./BaseDatable.vue_vue_type_script_setup_true_lang-BdNy4JtA.js";import{_ as fe}from"./BaseDataTableButton.vue_vue_type_script_setup_true_lang-_-bi7Syp.js";import"./user.schema-DUhrVGkL.js";import{R as ye}from"./RefreshRound-WkveaLFK.js";import"./_commonjsHelpers-CE1G-McA.js";import"./SearchOutline-wewVBZko.js";import"./DocumentExport-D9lMZqtJ.js";import"./DocumentEdit16Filled-Bk7DzGE7.js";import"./employeeSchema-BY4Ew02x.js";const _e={class:"flex justify-between mb-1"},be={class:"flex justify-between px-4 py-2"},xe={class:"font-semibold"},ve={class:"text-sm text-gray-400 flex items-center gap-1"},ke={class:"text-right"},we={class:"font-semibold"},Se={class:"text-sm text-gray-400"},Ce={class:"flex flex-wrap gap-2"},Ne={class:"flex justify-between px-4 py-2"},Ge={class:"font-semibold"},Le={class:"text-sm text-gray-400 flex items-center gap-1"},$e={class:"text-right"},Be={class:"font-semibold"},Pe={class:"text-sm text-gray-400"},Ie=B({__name:"LinePerformanceChart",props:{line:{default:()=>[]},slice:{default:3},isLoading:{type:Boolean,default:!1},isHorizontal:{type:Boolean,default:!1}},setup(t){const e=t,s=$(!1),n=$(null),o=l=>{const r=n.value;if(!r)return;const i=300;r.scrollBy({left:l==="next"?i:-i,behavior:"smooth"})};return(l,r)=>{const i=M,f=S("n-icon"),g=S("n-card"),h=S("n-spin"),b=S("n-modal");return _(),x("div",null,[a("div",_e,[r[4]||(r[4]=a("p",{class:"mb-2 text-gray-400"},"Top Line Performance",-1)),a("div",null,[l.isHorizontal?(_(),x("div",{key:0,class:z([l.isHorizontal?"flex items-center":""])},[c(i,{label:"Prev",icon:u(ne),type:"info",quaternary:!0,iconPlacement:"left",onClick:r[0]||(r[0]=m=>o("prev"))},null,8,["icon"]),c(i,{label:"Next",icon:u(Z),type:"info",quaternary:!0,iconPlacement:"right",onClick:r[1]||(r[1]=m=>o("next"))},null,8,["icon"]),c(i,{label:"More",icon:u(Z),quaternary:!0,iconPlacement:"right",onClick:r[2]||(r[2]=m=>s.value=!s.value)},null,8,["icon"])],2)):ie("",!0)])]),c(h,{show:l.isLoading},{default:N(()=>[a("div",{ref_key:"scrollContainer",ref:n,class:z(["relative flex gap-2 overflow-x-auto whitespace-nowrap scroll-smooth no-scrollbar",l.isHorizontal?"":"flex-col"])},[(_(!0),x(T,null,A(e.line.slice(0,e.slice),m=>(_(),Y(g,{class:z(["shadow-xs cursor-pointer hover:!bg-gray-50",l.isHorizontal?"flex-shrink-0 !w-[250px]":""]),key:m.id,"content-style":{padding:0}},{default:N(()=>[a("div",be,[a("div",null,[a("p",xe,y(m.name),1),a("span",ve,[c(f,{component:u(K)},null,8,["component"]),R(" "+y(m.location),1)])]),a("div",null,[a("div",ke,[a("p",we,[R(y(m.pcs)+" ",1),r[5]||(r[5]=a("span",{class:"text-sm text-gray-400"},"pcs",-1))]),a("span",Se,y(m.lastUpdated),1)])])])]),_:2},1032,["class"]))),128))],2)]),_:1},8,["show"]),c(b,{show:s.value,"onUpdate:show":r[3]||(r[3]=m=>s.value=m),title:"Line Performance","mask-closable":!0,preset:"card",style:{width:"1040px"}},{default:N(()=>[c(g,{bordered:!1,role:"dialog","aria-modal":"true"},{default:N(()=>[a("div",Ce,[(_(!0),x(T,null,A(e.line,m=>(_(),x("div",{key:m.id},[c(g,{class:"!w-[300px] shadow-xs cursor-pointer hover:!bg-gray-50","content-style":{padding:0}},{default:N(()=>[a("div",Ne,[a("div",null,[a("p",Ge,y(m.name),1),a("span",Le,[c(f,{component:u(K)},null,8,["component"]),R(" "+y(m.location),1)])]),a("div",null,[a("div",$e,[a("p",Be,[R(y(m.pcs)+" ",1),r[6]||(r[6]=a("span",{class:"text-sm text-gray-400"},"pcs",-1))]),a("span",Pe,y(m.lastUpdated),1)])])])]),_:2},1024)]))),128))])]),_:1})]),_:1},8,["show"])])}}}),Re=de(Ie,[["__scopeId","data-v-375bd07b"]]),De={class:"flex flex-col gap-2"},ze={class:"flex justify-between px-4 py-2"},Fe={class:"font-semibold text-blue-500"},Te={class:"text-xs text-gray-400"},Ae={class:"text-right"},Ue={class:"font-semibold"},Me={class:"text-xs text-gray-400"},Ve=B({__name:"StockInCard",props:{item:{}},setup(t){const e=t;return(s,n)=>{const o=S("n-card");return _(),x("div",De,[c(o,{class:z(["shadow-xs cursor-pointer hover:!bg-gray-50"]),"content-style":{padding:0}},{default:N(()=>[a("div",ze,[a("div",null,[a("p",Fe,y(e.item.glNo),1),a("span",Te,y(e.item.lineNames),1)]),a("div",null,[a("div",Ae,[a("p",Ue,[R(y(e.item.totalPcs)+" ",1),n[0]||(n[0]=a("span",{class:"text-sm text-gray-400"},"pcs",-1))]),a("span",Me,y(e.item.lastUpdated),1)])])])]),_:1})])}}});L({filters:L({startDate:p().regex(/^\d{4}-\d{2}-\d{2}$/).optional(),endDate:p().regex(/^\d{4}-\d{2}-\d{2}$/).optional()}).optional()});const je=L({id:w(),name:p(),location:p().nullable(),stockinCount:L({bundle:w(),pcs:w(),updatedAt:p().nullable(),updatedAtFull:p().nullable()})}),He=L({status:O(),data:E(je),message:p()}),Ee=L({glNo:p(),totalBundle:w(),totalPcs:w(),lastUpdated:p().nullable(),lineNames:p().nullable()}),Oe=L({status:O(),data:E(Ee),links:te,meta:ee,message:p()}),W="/api",q={getChartLines:t=>P.get(`${W}/stock-ins/summaries/chart/stock-ins/chart`,{params:t,paramsSerializer:e=>Q.stringify(e,{arrayFormat:"brackets"})}).then(e=>e.data),getGroupByGlNumber:t=>P.get(`${W}/stock-ins/summaries/group-glnumber`,{params:t,paramsSerializer:e=>Q.stringify(e,{arrayFormat:"brackets"})}).then(e=>e.data)},se=J("stockInSummary",{state:()=>({chartLines:[],loading:!1,error:null,search:"",groupByGlNumber:{loading:!1,searchResult:[],isSearching:!1,data:[],meta:{},search:"",links:{},currentPage:1,lastPage:1}}),actions:{async fetchChartLines(t={}){this.loading=!0,this.error=null;try{const e=await q.getChartLines(t),s=He.parse(e);return this.chartLines=s.data,k.parse({success:!0,message:s.message??"Summary Chart loaded"})}catch(e){const s=e?.response?.data?.message||"Something went wrong";return this.error=s,k.parse({success:!1,message:s})}finally{this.loading=!1}},async fetchGroupByGlNumber(t={}){this.groupByGlNumber.loading=!0,this.error=null;try{console.log("Query Params:",t);const e={page:t.page??1,perPage:t.perPage??10,search:t.search??void 0};t.search&&(this.groupByGlNumber.searchResult=[],this.groupByGlNumber.isSearching=!0);const s=await q.getGroupByGlNumber(e),n=Oe.parse(s);return this.groupByGlNumber.data=n.data,this.groupByGlNumber.links=n.links,this.groupByGlNumber.meta=n.meta,this.groupByGlNumber.currentPage=n.meta.currentPage,this.groupByGlNumber.lastPage=n.meta.lastPage,t.search?this.groupByGlNumber.searchResult=n.data:(this.groupByGlNumber.data=n.data,this.groupByGlNumber.isSearching=!1,this.groupByGlNumber.searchResult=[]),k.parse({success:!0,message:n.message??"Summary Group By Gl Number loaded"})}catch(e){const s=e?.response?.data?.message||"Something went wrong";return this.error=s,k.parse({success:!1,message:s})}finally{this.groupByGlNumber.loading=!1}},async searchOrFetch(t){if(this.groupByGlNumber.search!==t&&(this.groupByGlNumber.searchResult=[],this.groupByGlNumber.isSearching=!1),this.groupByGlNumber.search=t,!t)return await this.fetchGroupByGlNumber(),this.groupByGlNumber.data;const e=this.groupByGlNumber.data.filter(n=>n.glNo?.toLowerCase().includes(t)||n.lineNames?.toLowerCase().includes(t));return e.length>0?(this.groupByGlNumber.searchResult=e,this.groupByGlNumber.isSearching=!0,e):(await this.fetchGroupByGlNumber({page:1,search:t})).success?this.groupByGlNumber.searchResult:[]}},getters:{linePerformance:t=>t.chartLines.sort((e,s)=>s.stockinCount.pcs!==e.stockinCount.pcs?s.stockinCount.pcs-e.stockinCount.pcs:e.name.localeCompare(s.name)).map(e=>({id:e.id,name:e.name,pcs:e.stockinCount.pcs,location:e.location,lastUpdated:e.stockinCount.updatedAt})),topThreeByPcsNonZero:t=>t.chartLines.filter(e=>e.stockinCount.pcs>0).sort((e,s)=>s.stockinCount.pcs!==e.stockinCount.pcs?s.stockinCount.pcs-e.stockinCount.pcs:e.name.localeCompare(s.name)).slice(0,3),totalStockInPcs:t=>t.chartLines.reduce((e,s)=>e+s.stockinCount.pcs,0),stockInTotal:t=>{if(t.chartLines.length===0)return{pcs:0,bundle:0,lastUpdated:null};const e=t.chartLines.reduce((o,l)=>({pcs:o.pcs+l.stockinCount.pcs,bundle:o.bundle+l.stockinCount.bundle}),{pcs:0,bundle:0}),s=t.chartLines.map(o=>o.stockinCount.updatedAtFull).filter(o=>o!=null);let n=null;return s.length>0&&(n=s.reduce((o,l)=>{const r=new Date(o.replace(/^[A-Za-z]+, /,""));return new Date(l.replace(/^[A-Za-z]+, /,""))>r?l:o})),{...e,lastUpdated:n}},searchedGroupGlNumberItems:t=>{if(!t.groupByGlNumber.search)return t.groupByGlNumber.data;if(t.groupByGlNumber.isSearching&&t.groupByGlNumber.searchResult.length)return t.groupByGlNumber.searchResult;const e=t.groupByGlNumber.search.toLowerCase();return t.groupByGlNumber.data.filter(s=>s.glNo?.toLowerCase().includes(e)||s.lineNames?.toLowerCase().includes(e))}}});function Ke(){const t=se(),e=V(),{groupByGlNumber:s,loading:n}=j(t),o=I({get:()=>s.value.search,set:i=>{s.value.search=i}}),l=I(()=>t.searchedGroupGlNumberItems),r=async(i={},f={notify:!0})=>{const{success:g,message:h}=await t.fetchGroupByGlNumber(i);f.notify&&(g?e.success(h):e.error(h))};return U(o,async i=>{await t.searchOrFetch(i)}),{search:o,loading:n,glData:l,handleFetchGroupGL:r}}const Ze={class:"mb-4"},Qe={class:"flex justify-between items-center mb-2"},We={key:0,class:"flex flex-col gap-2"},qe={key:1},Ye=B({__name:"StockInGroupByGL",setup(t){const{glData:e,search:s,handleFetchGroupGL:n}=Ke();return H(()=>{n({},{notify:!0})}),(o,l)=>{const r=S("n-empty");return _(),x("div",null,[a("div",null,[a("div",Ze,[a("div",Qe,[a("div",null,[c(pe,{placeholder:"Search GL Number",modelValue:u(s),"onUpdate:modelValue":l[0]||(l[0]=i=>X(s)?s.value=i:null)},null,8,["modelValue"])])])])]),a("div",null,[u(e).length>0?(_(),x("div",We,[(_(!0),x(T,null,A(u(e),(i,f)=>(_(),Y(Ve,{key:f,item:i},null,8,["item"]))),128))])):(_(),x("div",qe,[c(r,{description:"GL Number data not found."})]))])])}}});function ae(){const t=se(),e=V(),{chartLines:s,topThreeByPcsNonZero:n,totalStockInPcs:o,stockInTotal:l,linePerformance:r,loading:i}=j(t),f=$({}),g=I(()=>s.value.map(C=>C.name)),h=I(()=>s.value.map(C=>C.stockinCount.pcs)),b=I(()=>s.value.map(C=>C.stockinCount.bundle));return f.value={title:{text:"Stock-In Area Chart"},tooltip:{trigger:"axis"},legend:{data:["PCS","Bundle"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:g},yAxis:{type:"value"},series:[{name:"PCS",type:"line",smooth:!0,data:h,areaStyle:{opacity:.6,color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#6366f1"},{offset:1,color:"rgba(99,102,241,0)"}]}},itemStyle:{color:"#4f46e5"},lineStyle:{width:3}},{name:"Bundle",type:"line",smooth:!0,data:b,areaStyle:{opacity:.5,color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#22c55e"},{offset:1,color:"rgba(34,197,94,0)"}]}},itemStyle:{color:"#22c55e"},lineStyle:{width:3}}]},{loading:i,linePerformance:r,stockInTotal:l,totalStockInPcs:o,topThreeByPcsNonZero:n,optionsEchart:f,chartLines:s,handleFetchChartLines:async(C,D={notify:!0})=>{const{success:d,message:v}=await t.fetchChartLines(C);D.notify&&(d?e.success(v):e.error(v))}}}const Je=B({__name:"StockInSummaryChart",setup(t){const{optionsEchart:e}=ae();return(s,n)=>{const o=me;return _(),x("div",null,[c(o,{option:u(e),autoresize:"",style:{height:"400px"}},null,8,["option"])])}}}),Xe={class:"flex gap-3"},et={class:"text-center"},tt={class:"text-2xl font-bold"},st={class:"flex flex-col gap-2 grow-1"},at={class:"mt-2 flex gap-2"},nt={class:"flex gap-1 items-center"},ot={class:"flex gap-1 items-center"},rt={class:"p-2"},lt={class:""},it=B({__name:"StockInSummaryMatrix",props:{stockIn:{},isLoading:{type:Boolean,default:!1}},setup(t){const e=t;return(s,n)=>{const o=S("n-progress"),l=S("n-icon"),r=S("n-card"),i=S("n-spin");return _(),x("div",null,[c(i,{show:s.isLoading},{default:N(()=>[c(r,{class:"shadow-xs"},{default:N(()=>[a("div",Xe,[c(o,{type:"dashboard",percentage:100,"stroke-width":10,class:"basis-54"},{default:N(()=>[a("div",et,[n[0]||(n[0]=a("p",{class:"text-xs text-gray-400"},"Cut Pieces",-1)),a("p",tt,y(e.stockIn.pcs),1)])]),_:1}),a("div",st,[a("div",null,[c(r,{class:"!bg-gray-50"},{default:N(()=>[n[3]||(n[3]=a("div",{class:"flex items-end"},[a("span",{class:"text-3xl text-teal-400 font-bold"},"3"),a("span",{class:"text-gray-400 ml-2"},"Active Lines")],-1)),a("div",at,[a("div",nt,[c(l,{component:u(oe),size:"18",class:"text-red-500"},null,8,["component"]),n[1]||(n[1]=a("span",{class:"text-sm"},"17 Inactive",-1))]),a("div",ot,[c(l,{component:u(re),size:"18"},null,8,["component"]),n[2]||(n[2]=a("span",{class:"text-sm"},"20 Total Lines",-1))])])]),_:1})]),a("div",rt,[n[4]||(n[4]=a("p",{class:"text-gray-400 text-xs"},"Last Updated",-1)),a("p",lt,y(e.stockIn.lastUpdated),1)])])])]),_:1})]),_:1},8,["show"])])}}}),ct=L({id:w().int().positive(),serialNumber:p().min(1),ticketNo:w().int().nonnegative(),glNo:p().min(1),size:p().min(1),userDispatchId:w().int().nonnegative(),color:p().min(1),pcs:w().int().positive(),dateStockOut:p().regex(/^\d{4}-\d{2}-\d{2}$/).nullable(),corId:w().int().positive(),userId:w().int().positive(),userDispatchName:p(),boxNumber:p().min(1),lineId:w().int().positive(),createdAt:p().datetime(),updatedAt:p().datetime(),inputSource:p().min(1),line:p(),containerScanStatus:p().min(1)}),ut=L({status:O(),data:E(ct),message:p(),links:te,meta:ee}),dt=J("stockIn",{state:()=>({data:[],searchResult:[],isSearching:!1,meta:{},links:{},loading:!1,error:null,currentPage:1,lastPage:1,search:""}),actions:{async fetch(t={}){this.loading=!0,this.error=null;try{const e={page:t.page??1,perPage:t.perPage??10,q:t.q??void 0,dateFrom:t.dateFrom,dateTo:t.dateTo};t.q&&(this.searchResult=[],this.isSearching=!0);const s=await P.get("/api/stock-ins",{params:e}),n=ut.parse(s.data);return this.meta=n.meta,this.links=n.links,this.currentPage=n.meta.currentPage,this.lastPage=n.meta.lastPage,t.q?this.searchResult=n.data:(this.data=n.data,this.isSearching=!1,this.searchResult=[]),k.parse({success:!0,message:n.message??"Stock In loaded"})}catch(e){const s=e?.response?.data?.message||"Something went wrong";return this.error=s,k.parse({success:!1,message:s})}finally{this.loading=!1}},async searchOrFetch(t){if(this.search!==t&&(this.searchResult=[],this.isSearching=!1),this.search=t,!t)return await this.fetch(),this.data;const e=this.data.filter(n=>n.glNo?.toLowerCase().includes(t)||n.serialNumber?.toLowerCase().includes(t)||n.color?.toLowerCase().includes(t));return e.length>0?(this.searchResult=e,this.isSearching=!0,e):(await this.fetch({page:1,q:t})).success?this.searchResult:[]},async create(t){this.loading=!0,this.error=null;try{const e=await P.post("/api/assignment/line",t);return this.error=null,k.parse({success:!0,message:e.data.message??"Data Created Succesfully"})}catch(e){const s=e?.response?.data?.message||"Someting Wrong";return this.error=s,k.parse({success:!1,message:s})}finally{this.loading=!1}},async update(t,e){this.loading=!0,this.error=null;try{const s=await P.post(`/api/users/${t}`,e),n=this.data.findIndex(o=>o.id===t);return n!==-1&&(this.data[n]={...this.data[n],...s.data.data}),this.error=null,k.parse({success:!0,message:s.data.message??"Data Update Successfully"})}catch(s){const n=s?.response?.data?.message||"Something Wrong";return this.error=n,k.parse({success:!1,message:n})}finally{this.loading=!1}},async delete(t){this.loading=!0,this.error=null;try{const e=await P.delete(`/api/users/${t}`);return this.data=this.data.filter(s=>s.id!==t),this.error=null,k.parse({success:!0,message:e.data.message??"Data Delete Successfully"})}catch(e){const s=e?.response?.data?.message||"Something Wrong";return this.error=s,k.parse({success:!1,message:s})}finally{this.loading=!1}}},getters:{searchedItems:t=>{if(!t.search)return t.data;if(t.isSearching&&t.searchResult.length)return t.searchResult;const e=t.search.toLowerCase();return t.data.filter(s=>s.glNo?.toLowerCase().includes(e)||s.serialNumber?.toLowerCase().includes(e)||s.color?.toLowerCase().includes(e))}}});function pt(){const t=dt(),e=V(),{meta:s,links:n,search:o,loading:l}=j(t),r=I(()=>t.searchedItems),i=$(),f=$(null),g=[{title:"No",key:"index",align:"center",width:50,render:(d,v)=>(s.value.currentPage-1)*s.value.perPage+v+1},{title:"Line",key:"line",width:120},{title:"GL Number",key:"glNo",width:120},{title:"Size",key:"size",align:"center",width:60},{title:"Color",key:"color"},{title:"Pcs",key:"pcs",align:"center",width:60},{title:"Input Source",key:"inputSource",align:"center",width:140},{title:"Actions",key:"actions",width:150}];U(o,async d=>{await t.searchOrFetch(d)}),U(f,async d=>{if(d){const v=F(d);v&&(alert(),t.fetch({page:2,dateFrom:v[0],dateTo:v[1]}))}});const h=async d=>{await t.fetch({page:d})},b=async d=>{await t.fetch({page:1,perPage:d})},m=async(d={notify:!0})=>{const{success:v,message:G}=await t.fetch();return d.notify&&(v?e.success(G):e.error(G)),{success:v,message:G}};function C(d){i.value=d}function D(d){t.delete(d.id)}return{search:o,dateRange:f,loading:l,columns:g,rows:r,meta:s,links:n,editRow:i,handleFetch:m,handleEdit:C,handleDelete:D,handlePageChange:h,handlePageSizeChange:b}}const mt={class:"flex flex-col gap-5"},ht={class:"flex gap-2 justify-between"},gt={class:"flex-1"},ft={class:"flex justify-end mt-4"},yt=B({__name:"StockInTable",setup(t){const{search:e,rows:s,columns:n,loading:o,meta:l,handlePageChange:r,handlePageSizeChange:i,handleFetch:f}=pt(),g=ce(),h=$(),b=()=>{},m=()=>{},C=()=>[];return H(()=>{f({notify:!1})}),(D,d)=>{const v=S("n-pagination");return _(),x("div",mt,[a("div",ht,[a("div",gt,[c(he,{modelValue:u(e),"onUpdate:modelValue":d[0]||(d[0]=G=>X(e)?e.value=G:null),dateRange:h.value,"onUpdate:dateRange":d[1]||(d[1]=G=>h.value=G),"onClick:export":b,"onClick:refresh":u(f)},null,8,["modelValue","dateRange","onClick:refresh"])]),a("div",null,[c(M,{label:"Scan Stock In",icon:u(le),type:"primary",onClick:d[2]||(d[2]=G=>u(g).push({name:"employee-form"}))},null,8,["icon"])])]),a("div",null,[c(ge,{columns:u(n),data:u(s),loading:u(o)},{actions:N(({row:G})=>[c(fe,{row:G,"label-button-delete":"Delete","onClick:edit":C,"onClick:delete":d[3]||(d[3]=$t=>m())},null,8,["row"])]),_:1},8,["columns","data","loading"])]),a("div",ft,[c(v,{page:u(l).currentPage,"page-size":u(l).perPage,"page-count":u(l).lastPage,"show-size-picker":"","page-sizes":[5,10,20,50],"onUpdate:page":u(r),"onUpdate:pageSize":u(i)},null,8,["page","page-size","page-count","onUpdate:page","onUpdate:pageSize"])])])}}}),_t={class:"flex flex-col gap-10"},bt={class:"flex justify-between items-end gap-10"},xt={class:"w-80 flex-auto"},vt={class:"text-xl font-bold mb-1"},kt={class:"w-10 flex-auto text-right"},wt={class:"flex justify-end items-center gap-2"},St={class:"flex gap-2"},Ct={class:"w-full"},Nt={class:"flex gap-2"},Gt={class:"w-full md:w-[70%]"},Lt={class:"w-full md:w-[30%]"},Yt=B({__name:"StockInPageView",setup(t){const e=$({title:"Stock In",description:"The Stock In module records and manages all incoming bundles into the sewing line. It provides a clear overview of materials received, including bundle details, quantities, and timestamps."});ue({title:e.value.title,meta:[{name:"description",content:e.value.description}]});const{stockInTotal:s,linePerformance:n,handleFetchChartLines:o,loading:l}=ae(),r=()=>{const g=new Date,h=new Date;h.setMonth(g.getMonth()-1),i.value=[h.getTime(),g.getTime()];const b=F(i.value);b&&b.length===2&&o({filters:{startDate:b[0],endDate:b[1]}},{notify:!1})},i=$(null),f=g=>{const h=F(g);h&&h.length===2&&o({filters:{startDate:h[0],endDate:h[1]}},{notify:!1}),i.value=g};return H(()=>{r()}),(g,h)=>{const b=S("n-date-picker");return _(),x("div",_t,[a("div",bt,[a("div",xt,[a("h2",vt,y(e.value.title),1),a("p",null,y(e.value.description),1)]),a("div",kt,[a("div",wt,[c(b,{value:i.value,type:"daterange",clearable:"",class:"w-80 inline-block","onUpdate:value":h[0]||(h[0]=m=>f(m))},null,8,["value"]),c(M,{label:"Refresh",icon:u(ye),type:"primary",tertiary:"",onClick:r},null,8,["icon"])])])]),a("div",null,[c(Re,{line:u(n),slice:10,isLoading:u(l),isHorizontal:!0},null,8,["line","isLoading"])]),a("div",St,[a("div",Ct,[a("div",Nt,[a("div",Gt,[c(it,{"stock-in":u(s),isLoading:u(l)},null,8,["stock-in","isLoading"]),c(Je)]),a("div",Lt,[c(Ye)])])])]),c(yt)])}}});export{Yt as default};
