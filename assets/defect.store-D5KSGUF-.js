import{E as t,D as n}from"./index-KKLjXh5o.js";import{d as u,b as i,c}from"./defect.summaryApi-Bar6lMpN.js";import{A as r}from"./api.schema-B7NsqcGR.js";const a="/api",o={getSummaryGroupLines:()=>t.get(`${a}/defect/summary/lines`).then(e=>e.data),getGroupLines:()=>t.get(`${a}/defect`).then(e=>e.data),getGroupGlNumber:()=>t.get(`${a}/defect/group/gl-number`).then(e=>e.data)},d=n("defect",{state:()=>({loading:!1,error:null,defectData:[],defectGroupLines:[],defectGroupGlNumber:[],summaryGroupLine:{}}),actions:{async fetchSummaryGroupLines(){this.loading=!0,this.error=null;try{const e=await o.getSummaryGroupLines(),s=c.parse(e);return this.summaryGroupLine=s.data,r.parse({success:!0,message:s.message??"loaded"})}catch(e){const s=e?.response?.data?.message||"Something went wrong";return this.error=s,r.parse({success:!1,message:s})}finally{this.loading=!1}},async fetchGroupLines(){this.loading=!0,this.error=null;try{const e=await o.getGroupLines(),s=i.parse(e);return this.defectGroupLines=s.data,r.parse({success:!0,message:s.message??"loaded"})}catch(e){const s=e?.response?.data?.message||"Something went wrong";return this.error=s,r.parse({success:!1,message:s})}finally{this.loading=!1}},async fetchGroupGlNumber(){this.loading=!0,this.error=null;try{const e=await o.getGroupGlNumber(),s=u.parse(e);return this.defectGroupGlNumber=s.data,r.parse({success:!0,message:s.message??"loaded"})}catch(e){const s=e?.response?.data?.message||"Something went wrong";return this.error=s,r.parse({success:!1,message:s})}finally{this.loading=!1}}}});export{d as u};
