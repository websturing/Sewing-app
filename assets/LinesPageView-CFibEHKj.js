import{_ as z}from"./BaseInput.vue_vue_type_script_setup_true_lang-CLu1dz_B.js";import{_ as N}from"./BaseDatable.vue_vue_type_script_setup_true_lang-CLkMTemm.js";import{_}from"./BaseButton.vue_vue_type_script_setup_true_lang-BJSFg9X6.js";import{a as R,u as C}from"./line.page-DxYWQ411.js";import{s as D,h as T,d as b,r as x,k as V,c as S,a as i,e as n,g as t,w as p,f as m,o as L,I as A,y as B,t as w,m as k}from"./index-BXp2mkfJ.js";import{d as M}from"./dayjs.min-lasCq60O.js";import{S as U}from"./SearchOutline-C3S-yLJ4.js";import{R as F}from"./RefreshRound-CMyiGOX8.js";import{C as H}from"./Create-B5XLpLYB.js";import{F as j}from"./FolderDetails-DUAYhrHe.js";import{S as Y}from"./SmartHome-Cze3Mov4.js";import{B as E}from"./BrandAirtable-CM7KBFW2.js";import"./index-B-cYlh1f.js";import"./_commonjsHelpers-CE1G-McA.js";import"./stockin.api.schema-cou0zUz2.js";import"./metaPagination-BMwnZfrC.js";import"./types-CVZIcfwR.js";import"./api.schema-B7NsqcGR.js";function G(){const f=R(),o=T(),{data:c,loading:d,meta:r,links:l}=D(f),{handleFetch:a}=C();return{rows:c,loading:d,meta:r,links:l,handleFetch:a,handlePageChange:async e=>{await a({notify:!1},{page:e})},handlePageSizeChange:async e=>{await a({notify:!1},{page:1,perPage:e})},handleRefresh:async()=>{await a({notify:!1},{})},navigateToDetail:e=>{o.push({name:"lines-detail",params:{id:e}})}}}const I={class:"flex flex-col gap-3"},O={class:"flex justify-between"},q={class:"flex gap-2"},J={class:"flex gap-2"},K={class:"flex justify-end mt-4"},Q=b({__name:"LinesTable",setup(f){const o=x(""),c=[{title:"No",key:"index",width:60,render:(e,s)=>(a.value.currentPage-1)*a.value.perPage+s+1},{title:"Name",key:"name"},{title:"Location",key:"location"},{title:"Current GL Number",key:"current_gl_no",render:e=>e.latestStockin?.glNo??"-"},{title:"Color",key:"color",render:e=>e.latestStockin?.color??"-"},{title:"Last Updated",key:"updatedAt",render:e=>e.latestStockin?.updatedAt?M(e.latestStockin?.updatedAt).format("MMMM, DD YYYY HH:mm"):"-"},{title:"Actions",key:"actions",width:150}],d=V(()=>{if(!o.value)return l.value;const e=o.value.toLowerCase();return l.value.filter(s=>s.name?.toLowerCase().includes(e)||s.latestStockin?.glNo?.toLowerCase().includes(e)||s.latestStockin?.color?.toLowerCase().includes(e))}),{loading:r,rows:l,meta:a,handlePageChange:u,handlePageSizeChange:h,handleRefresh:v,navigateToDetail:y}=G();return(e,s)=>{const P=z,$=m("n-pagination");return L(),S("div",I,[i("div",O,[i("div",null,[n(P,{icon:t(U),placeholder:"Search",modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=g=>o.value=g)},null,8,["icon","modelValue"])]),i("div",q,[n(_,{label:"Refresh",icon:t(F),onClick:t(v),tertiary:!0,type:"warning"},null,8,["icon","onClick"]),n(_,{label:"Create Line",icon:t(H),onClick:s[1]||(s[1]=()=>{}),tertiary:!1,type:"primary"},null,8,["icon"])])]),n(N,{columns:c,data:d.value,loading:t(r)},{actions:p(({row:g})=>[i("div",J,[n(_,{label:"Detail",icon:t(j),onClick:ae=>t(y)(g.id),tertiary:!0,type:"primary"},null,8,["icon","onClick"])])]),_:1},8,["data","loading"]),i("div",K,[n($,{page:t(a).currentPage,"page-size":t(a).perPage,"page-count":t(a).lastPage,"page-sizes":[5,10,20,50],"onUpdate:page":t(u),"onUpdate:pageSize":t(h)},null,8,["page","page-size","page-count","onUpdate:page","onUpdate:pageSize"])])])}}}),W={class:"flex flex-col gap-10"},X={class:"flex justify-between items-center"},Z={class:"w-84 flex-auto"},ee={class:"text-xl font-bold mb-1"},te={class:"w-16 flex-auto text-right"},ke=b({__name:"LinesPageView",setup(f){const o=x({title:"Sewing Line Management",description:"An intuitive dashboard to manage and monitor sewing lines. Each line displays active GL Numbers, colors, and size distributions â€” giving supervisors a clear picture of production flow and operator workload. The interface focuses on fast navigation, status clarity, and easy data access for daily line coordination."});A({title:o.value.title,meta:[{name:"description",content:o.value.description}]});const{handleFetch:c}=C();return B(()=>{c({notify:!0},{search:""})}),(d,r)=>{const l=m("n-icon"),a=m("n-breadcrumb-item"),u=m("n-breadcrumb");return L(),S("div",W,[i("div",X,[i("div",Z,[i("h2",ee,w(o.value.title),1),i("p",null,w(o.value.description),1)]),i("div",te,[n(u,null,{default:p(()=>[n(a,null,{default:p(()=>[n(l,{component:t(Y)},null,8,["component"]),r[0]||(r[0]=k(" Home",-1))]),_:1}),n(a,null,{default:p(()=>[n(l,{component:t(E)},null,8,["component"]),r[1]||(r[1]=k(" Lines ",-1))]),_:1})]),_:1})])]),n(Q)])}}});export{ke as default};
