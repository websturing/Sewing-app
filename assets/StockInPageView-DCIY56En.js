import{_ as M}from"./BaseButton.vue_vue_type_script_setup_true_lang-BJSFg9X6.js";import{f as z}from"./dateRangeFormaterNaive-ClR-GZjc.js";import{K as se,L as E,F as ae,a as ne,Q as oe}from"./Folder-CicAoH0F.js";import{K as O}from"./KeyboardArrowRightFilled-DS8K4qw9.js";import{d as $,r as G,c as x,a,e as c,x as re,L as F,g as u,f as k,w as S,o as y,F as T,H as U,l as W,t as f,m as R,E as B,D as q,p as V,s as j,k as P,q as A,y as H,n as Y,h as le,I as ie}from"./index-BXp2mkfJ.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as ue}from"./BaseInput.vue_vue_type_script_setup_true_lang-CLu1dz_B.js";import{a as de}from"./gls.page-CUdPN2l_.js";import{M as pe,L as me}from"./metaPagination-BMwnZfrC.js";import{o as L,s as C,n as I,a as J,c as X}from"./types-CVZIcfwR.js";import{q as K}from"./index-B-cYlh1f.js";import{A as v}from"./api.schema-B7NsqcGR.js";import{s as he}from"./index-CTlmlv0V.js";import{_ as ge}from"./BaseAdvanceFilter.vue_vue_type_script_setup_true_lang-C4ZBMaq_.js";import{_ as fe}from"./BaseDatable.vue_vue_type_script_setup_true_lang-CLkMTemm.js";import{_ as ye}from"./BaseDataTableButton.vue_vue_type_script_setup_true_lang-CG4Bmc9b.js";import{a as _e}from"./stockin.api.schema-cou0zUz2.js";import"./user.schema-CdSDHvt6.js";import{R as xe}from"./RefreshRound-CMyiGOX8.js";import"./gls.store-Bo5hgsk5.js";import"./_commonjsHelpers-CE1G-McA.js";import"./SearchOutline-C3S-yLJ4.js";import"./DocumentExport-BjNEX1ZC.js";import"./DocumentEdit16Filled-CmoPtWrt.js";import"./employeeSchema-Cz-UxfTA.js";const be={class:"flex justify-between mb-1"},ve={class:"flex justify-between px-4 py-2"},ke={class:"font-semibold"},we={class:"text-sm text-gray-400 flex items-center gap-1"},Se={class:"text-right"},Ce={class:"font-semibold"},Ne={class:"text-sm text-gray-400"},Ge={class:"flex flex-wrap gap-2"},Le={class:"flex justify-between px-4 py-2"},$e={class:"font-semibold"},Be={class:"text-sm text-gray-400 flex items-center gap-1"},Pe={class:"text-right"},Re={class:"font-semibold"},Ie={class:"text-sm text-gray-400"},De=$({__name:"LinePerformanceChart",props:{line:{default:()=>[]},slice:{default:3},isLoading:{type:Boolean,default:!1},isHorizontal:{type:Boolean,default:!1}},setup(t){const e=t,s=G(!1),n=G(null),o=l=>{const r=n.value;if(!r)return;const i=300;r.scrollBy({left:l==="next"?i:-i,behavior:"smooth"})};return(l,r)=>{const i=M,g=k("n-icon"),h=k("n-card"),m=k("n-spin"),_=k("n-modal");return y(),x("div",null,[a("div",be,[r[4]||(r[4]=a("p",{class:"mb-2 text-gray-400"},"Top Line Performance",-1)),a("div",null,[l.isHorizontal?(y(),x("div",{key:0,class:F([l.isHorizontal?"flex items-center":""])},[c(i,{label:"Prev",icon:u(se),type:"info",quaternary:!0,iconPlacement:"left",onClick:r[0]||(r[0]=p=>o("prev"))},null,8,["icon"]),c(i,{label:"Next",icon:u(O),type:"info",quaternary:!0,iconPlacement:"right",onClick:r[1]||(r[1]=p=>o("next"))},null,8,["icon"]),c(i,{label:"More",icon:u(O),quaternary:!0,iconPlacement:"right",onClick:r[2]||(r[2]=p=>s.value=!s.value)},null,8,["icon"])],2)):re("",!0)])]),c(m,{show:l.isLoading},{default:S(()=>[a("div",{ref_key:"scrollContainer",ref:n,class:F(["relative flex gap-2 overflow-x-auto whitespace-nowrap scroll-smooth no-scrollbar",l.isHorizontal?"":"flex-col"])},[(y(!0),x(T,null,U(e.line.slice(0,e.slice),p=>(y(),W(h,{class:F(["shadow-xs cursor-pointer hover:!bg-gray-50",l.isHorizontal?"flex-shrink-0 !w-[250px]":""]),key:p.id,"content-style":{padding:0}},{default:S(()=>[a("div",ve,[a("div",null,[a("p",ke,f(p.name),1),a("span",we,[c(g,{component:u(E)},null,8,["component"]),R(" "+f(p.location),1)])]),a("div",null,[a("div",Se,[a("p",Ce,[R(f(p.pcs)+" ",1),r[5]||(r[5]=a("span",{class:"text-sm text-gray-400"},"pcs",-1))]),a("span",Ne,f(p.lastUpdated),1)])])])]),_:2},1032,["class"]))),128))],2)]),_:1},8,["show"]),c(_,{show:s.value,"onUpdate:show":r[3]||(r[3]=p=>s.value=p),title:"Line Performance","mask-closable":!0,preset:"card",style:{width:"1040px"}},{default:S(()=>[c(h,{bordered:!1,role:"dialog","aria-modal":"true"},{default:S(()=>[a("div",Ge,[(y(!0),x(T,null,U(e.line,p=>(y(),x("div",{key:p.id},[c(h,{class:"!w-[300px] shadow-xs cursor-pointer hover:!bg-gray-50","content-style":{padding:0}},{default:S(()=>[a("div",Le,[a("div",null,[a("p",$e,f(p.name),1),a("span",Be,[c(g,{component:u(E)},null,8,["component"]),R(" "+f(p.location),1)])]),a("div",null,[a("div",Pe,[a("p",Re,[R(f(p.pcs)+" ",1),r[6]||(r[6]=a("span",{class:"text-sm text-gray-400"},"pcs",-1))]),a("span",Ie,f(p.lastUpdated),1)])])])]),_:2},1024)]))),128))])]),_:1})]),_:1},8,["show"])])}}}),Fe=ce(De,[["__scopeId","data-v-375bd07b"]]),ze={class:"flex flex-col gap-2"},Te={class:"flex justify-between px-4 py-2"},Ue={class:"text-xs text-gray-400"},Ae={class:"text-right"},Me={class:"font-semibold"},Ve={class:"text-xs text-gray-400"},je=$({__name:"StockInCard",props:{item:{}},setup(t){const e=t,{navigateToGLDetail:s}=de();return(n,o)=>{const l=k("n-card");return y(),x("div",ze,[c(l,{class:F(["shadow-xs cursor-pointer hover:!bg-gray-50"]),"content-style":{padding:0}},{default:S(()=>[a("div",Te,[a("div",null,[a("p",{class:"font-semibold text-blue-500",onClick:o[0]||(o[0]=r=>u(s)(e.item.glNo))},f(e.item.glNo),1),a("span",Ue,f(e.item.lineNames),1)]),a("div",null,[a("div",Ae,[a("p",Me,[R(f(e.item.totalPcs)+" ",1),o[1]||(o[1]=a("span",{class:"text-sm text-gray-400"},"pcs",-1))]),a("span",Ve,f(e.item.lastUpdated),1)])])])]),_:1})])}}});L({filters:L({startDate:C().regex(/^\d{4}-\d{2}-\d{2}$/).optional(),endDate:C().regex(/^\d{4}-\d{2}-\d{2}$/).optional()}).optional()});const He=L({id:I(),name:C(),location:C().nullable(),stockinCount:L({bundle:I(),pcs:I(),updatedAt:C().nullable(),updatedAtFull:C().nullable()})}),Ee=L({status:X(),data:J(He),message:C()}),Oe=L({glNo:C(),totalBundle:I(),totalPcs:I(),lastUpdated:C().nullable(),lineNames:C().nullable()}),Ke=L({status:X(),data:J(Oe),links:me,meta:pe,message:C()}),Z="/api",Q={getChartLines:t=>B.get(`${Z}/stock-ins/summaries/chart/stock-ins/chart`,{params:t,paramsSerializer:e=>K.stringify(e,{arrayFormat:"brackets"})}).then(e=>e.data),getGroupByGlNumber:t=>B.get(`${Z}/stock-ins/summaries/group-glnumber`,{params:t,paramsSerializer:e=>K.stringify(e,{arrayFormat:"brackets"})}).then(e=>e.data)},ee=q("stockInSummary",{state:()=>({chartLines:[],loading:!1,error:null,search:"",groupByGlNumber:{loading:!1,searchResult:[],isSearching:!1,data:[],meta:{},search:"",links:{},currentPage:1,lastPage:1}}),actions:{async fetchChartLines(t={}){this.loading=!0,this.error=null;try{const e=await Q.getChartLines(t),s=Ee.parse(e);return this.chartLines=s.data,v.parse({success:!0,message:s.message??"Summary Chart loaded"})}catch(e){const s=e?.response?.data?.message||"Something went wrong";return this.error=s,v.parse({success:!1,message:s})}finally{this.loading=!1}},async fetchGroupByGlNumber(t={}){this.groupByGlNumber.loading=!0,this.error=null;try{console.log("Query Params:",t);const e={page:t.page??1,perPage:t.perPage??10,search:t.search??void 0};t.search&&(this.groupByGlNumber.searchResult=[],this.groupByGlNumber.isSearching=!0);const s=await Q.getGroupByGlNumber(e),n=Ke.parse(s);return this.groupByGlNumber.data=n.data,this.groupByGlNumber.links=n.links,this.groupByGlNumber.meta=n.meta,this.groupByGlNumber.currentPage=n.meta.currentPage,this.groupByGlNumber.lastPage=n.meta.lastPage,t.search?this.groupByGlNumber.searchResult=n.data:(this.groupByGlNumber.data=n.data,this.groupByGlNumber.isSearching=!1,this.groupByGlNumber.searchResult=[]),v.parse({success:!0,message:n.message??"Summary Group By Gl Number loaded"})}catch(e){const s=e?.response?.data?.message||"Something went wrong";return this.error=s,v.parse({success:!1,message:s})}finally{this.groupByGlNumber.loading=!1}},async searchOrFetch(t){if(this.groupByGlNumber.search!==t&&(this.groupByGlNumber.searchResult=[],this.groupByGlNumber.isSearching=!1),this.groupByGlNumber.search=t,!t)return await this.fetchGroupByGlNumber(),this.groupByGlNumber.data;const e=this.groupByGlNumber.data.filter(n=>n.glNo?.toLowerCase().includes(t)||n.lineNames?.toLowerCase().includes(t));return e.length>0?(this.groupByGlNumber.searchResult=e,this.groupByGlNumber.isSearching=!0,e):(await this.fetchGroupByGlNumber({page:1,search:t})).success?this.groupByGlNumber.searchResult:[]}},getters:{linePerformance:t=>t.chartLines.sort((e,s)=>s.stockinCount.pcs!==e.stockinCount.pcs?s.stockinCount.pcs-e.stockinCount.pcs:e.name.localeCompare(s.name)).map(e=>({id:e.id,name:e.name,pcs:e.stockinCount.pcs,location:e.location,lastUpdated:e.stockinCount.updatedAt})),topThreeByPcsNonZero:t=>t.chartLines.filter(e=>e.stockinCount.pcs>0).sort((e,s)=>s.stockinCount.pcs!==e.stockinCount.pcs?s.stockinCount.pcs-e.stockinCount.pcs:e.name.localeCompare(s.name)).slice(0,3),totalStockInPcs:t=>t.chartLines.reduce((e,s)=>e+s.stockinCount.pcs,0),stockInTotal:t=>{if(t.chartLines.length===0)return{pcs:0,bundle:0,lastUpdated:null};const e=t.chartLines.reduce((o,l)=>({pcs:o.pcs+l.stockinCount.pcs,bundle:o.bundle+l.stockinCount.bundle}),{pcs:0,bundle:0}),s=t.chartLines.map(o=>o.stockinCount.updatedAtFull).filter(o=>o!=null);let n=null;return s.length>0&&(n=s.reduce((o,l)=>{const r=new Date(o.replace(/^[A-Za-z]+, /,""));return new Date(l.replace(/^[A-Za-z]+, /,""))>r?l:o})),{...e,lastUpdated:n}},searchedGroupGlNumberItems:t=>{if(!t.groupByGlNumber.search)return t.groupByGlNumber.data;if(t.groupByGlNumber.isSearching&&t.groupByGlNumber.searchResult.length)return t.groupByGlNumber.searchResult;const e=t.groupByGlNumber.search.toLowerCase();return t.groupByGlNumber.data.filter(s=>s.glNo?.toLowerCase().includes(e)||s.lineNames?.toLowerCase().includes(e))}}});function Ze(){const t=ee(),e=V(),{groupByGlNumber:s,loading:n}=j(t),o=P({get:()=>s.value.search,set:i=>{s.value.search=i}}),l=P(()=>t.searchedGroupGlNumberItems),r=async(i={},g={notify:!0})=>{const{success:h,message:m}=await t.fetchGroupByGlNumber(i);g.notify&&(h?e.success(m):e.error(m))};return A(o,async i=>{await t.searchOrFetch(i)}),{search:o,loading:n,glData:l,handleFetchGroupGL:r}}const Qe={class:"mb-4"},We={class:"flex justify-between items-center mb-2"},qe={key:0,class:"flex flex-col gap-2"},Ye={key:1},Je=$({__name:"StockInGroupByGL",setup(t){const{glData:e,search:s,handleFetchGroupGL:n}=Ze();return H(()=>{n({},{notify:!0})}),(o,l)=>{const r=k("n-empty");return y(),x("div",null,[a("div",null,[a("div",Qe,[a("div",We,[a("div",null,[c(ue,{placeholder:"Search GL Number",modelValue:u(s),"onUpdate:modelValue":l[0]||(l[0]=i=>Y(s)?s.value=i:null)},null,8,["modelValue"])])])])]),a("div",null,[u(e).length>0?(y(),x("div",qe,[(y(!0),x(T,null,U(u(e),(i,g)=>(y(),W(je,{key:g,item:i},null,8,["item"]))),128))])):(y(),x("div",Ye,[c(r,{description:"GL Number data not found."})]))])])}}});function te(){const t=ee(),e=V(),{chartLines:s,topThreeByPcsNonZero:n,totalStockInPcs:o,stockInTotal:l,linePerformance:r,loading:i}=j(t),g=G({}),h=P(()=>s.value.map(w=>w.name)),m=P(()=>s.value.map(w=>w.stockinCount.pcs)),_=P(()=>s.value.map(w=>w.stockinCount.bundle));return g.value={title:{text:"Stock-In Area Chart"},tooltip:{trigger:"axis"},legend:{data:["PCS","Bundle"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:h},yAxis:{type:"value"},series:[{name:"PCS",type:"line",smooth:!0,data:m,areaStyle:{opacity:.6,color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#6366f1"},{offset:1,color:"rgba(99,102,241,0)"}]}},itemStyle:{color:"#4f46e5"},lineStyle:{width:3}},{name:"Bundle",type:"line",smooth:!0,data:_,areaStyle:{opacity:.5,color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#22c55e"},{offset:1,color:"rgba(34,197,94,0)"}]}},itemStyle:{color:"#22c55e"},lineStyle:{width:3}}]},{loading:i,linePerformance:r,stockInTotal:l,totalStockInPcs:o,topThreeByPcsNonZero:n,optionsEchart:g,chartLines:s,handleFetchChartLines:async(w,D={notify:!0})=>{const{success:d,message:b}=await t.fetchChartLines(w);D.notify&&(d?e.success(b):e.error(b))}}}const Xe=$({__name:"StockInSummaryChart",setup(t){const{optionsEchart:e}=te();return(s,n)=>{const o=he;return y(),x("div",null,[c(o,{option:u(e),autoresize:"",style:{height:"400px"}},null,8,["option"])])}}}),et={class:"flex gap-3"},tt={class:"text-center"},st={class:"text-2xl font-bold"},at={class:"flex flex-col gap-2 grow-1"},nt={class:"mt-2 flex gap-2"},ot={class:"flex gap-1 items-center"},rt={class:"flex gap-1 items-center"},lt={class:"p-2"},it={class:""},ct=$({__name:"StockInSummaryMatrix",props:{stockIn:{},isLoading:{type:Boolean,default:!1}},setup(t){const e=t;return(s,n)=>{const o=k("n-progress"),l=k("n-icon"),r=k("n-card"),i=k("n-spin");return y(),x("div",null,[c(i,{show:s.isLoading},{default:S(()=>[c(r,{class:"shadow-xs"},{default:S(()=>[a("div",et,[c(o,{type:"dashboard",percentage:100,"stroke-width":10,class:"basis-54"},{default:S(()=>[a("div",tt,[n[0]||(n[0]=a("p",{class:"text-xs text-gray-400"},"Cut Pieces",-1)),a("p",st,f(e.stockIn.pcs),1)])]),_:1}),a("div",at,[a("div",null,[c(r,{class:"!bg-gray-50"},{default:S(()=>[n[3]||(n[3]=a("div",{class:"flex items-end"},[a("span",{class:"text-3xl text-teal-400 font-bold"},"3"),a("span",{class:"text-gray-400 ml-2"},"Active Lines")],-1)),a("div",nt,[a("div",ot,[c(l,{component:u(ae),size:"18",class:"text-red-500"},null,8,["component"]),n[1]||(n[1]=a("span",{class:"text-sm"},"17 Inactive",-1))]),a("div",rt,[c(l,{component:u(ne),size:"18"},null,8,["component"]),n[2]||(n[2]=a("span",{class:"text-sm"},"20 Total Lines",-1))])])]),_:1})]),a("div",lt,[n[4]||(n[4]=a("p",{class:"text-gray-400 text-xs"},"Last Updated",-1)),a("p",it,f(e.stockIn.lastUpdated),1)])])])]),_:1})]),_:1},8,["show"])])}}}),ut=q("stockIn",{state:()=>({data:[],searchResult:[],isSearching:!1,meta:{},links:{},loading:!1,error:null,currentPage:1,lastPage:1,search:""}),actions:{async fetch(t={}){this.loading=!0,this.error=null;try{const e={page:t.page??1,perPage:t.perPage??10,q:t.q??void 0,dateFrom:t.dateFrom,dateTo:t.dateTo};t.q&&(this.searchResult=[],this.isSearching=!0);const s=await B.get("/api/stock-ins",{params:e}),n=_e.parse(s.data);return this.meta=n.meta,this.links=n.links,this.currentPage=n.meta.currentPage,this.lastPage=n.meta.lastPage,t.q?this.searchResult=n.data:(this.data=n.data,this.isSearching=!1,this.searchResult=[]),v.parse({success:!0,message:n.message??"Stock In loaded"})}catch(e){const s=e?.response?.data?.message||"Something went wrong";return this.error=s,v.parse({success:!1,message:s})}finally{this.loading=!1}},async searchOrFetch(t){if(this.search!==t&&(this.searchResult=[],this.isSearching=!1),this.search=t,!t)return await this.fetch(),this.data;const e=this.data.filter(n=>n.glNo?.toLowerCase().includes(t)||n.serialNumber?.toLowerCase().includes(t)||n.color?.toLowerCase().includes(t));return e.length>0?(this.searchResult=e,this.isSearching=!0,e):(await this.fetch({page:1,q:t})).success?this.searchResult:[]},async create(t){this.loading=!0,this.error=null;try{const e=await B.post("/api/assignment/line",t);return this.error=null,v.parse({success:!0,message:e.data.message??"Data Created Succesfully"})}catch(e){const s=e?.response?.data?.message||"Someting Wrong";return this.error=s,v.parse({success:!1,message:s})}finally{this.loading=!1}},async update(t,e){this.loading=!0,this.error=null;try{const s=await B.post(`/api/users/${t}`,e),n=this.data.findIndex(o=>o.id===t);return n!==-1&&(this.data[n]={...this.data[n],...s.data.data}),this.error=null,v.parse({success:!0,message:s.data.message??"Data Update Successfully"})}catch(s){const n=s?.response?.data?.message||"Something Wrong";return this.error=n,v.parse({success:!1,message:n})}finally{this.loading=!1}},async delete(t){this.loading=!0,this.error=null;try{const e=await B.delete(`/api/users/${t}`);return this.data=this.data.filter(s=>s.id!==t),this.error=null,v.parse({success:!0,message:e.data.message??"Data Delete Successfully"})}catch(e){const s=e?.response?.data?.message||"Something Wrong";return this.error=s,v.parse({success:!1,message:s})}finally{this.loading=!1}}},getters:{searchedItems:t=>{if(!t.search)return t.data;if(t.isSearching&&t.searchResult.length)return t.searchResult;const e=t.search.toLowerCase();return t.data.filter(s=>s.glNo?.toLowerCase().includes(e)||s.serialNumber?.toLowerCase().includes(e)||s.color?.toLowerCase().includes(e))}}});function dt(){const t=ut(),e=V(),{meta:s,links:n,search:o,loading:l}=j(t),r=P(()=>t.searchedItems),i=G(),g=G(null),h=[{title:"No",key:"index",align:"center",width:50,render:(d,b)=>(s.value.currentPage-1)*s.value.perPage+b+1},{title:"Line",key:"line",width:120},{title:"GL Number",key:"glNo",width:120},{title:"Size",key:"size",align:"center",width:60},{title:"Color",key:"color"},{title:"Pcs",key:"pcs",align:"center",width:60},{title:"Input Source",key:"inputSource",align:"center",width:140},{title:"Actions",key:"actions",width:150}];A(o,async d=>{await t.searchOrFetch(d)}),A(g,async d=>{if(d){const b=z(d);b&&t.fetch({page:2,dateFrom:b[0],dateTo:b[1]})}});const m=async d=>{await t.fetch({page:d})},_=async d=>{await t.fetch({page:1,perPage:d})},p=async(d={notify:!0})=>{const{success:b,message:N}=await t.fetch();return d.notify&&(b?e.success(N):e.error(N)),{success:b,message:N}};function w(d){i.value=d}function D(d){t.delete(d.id)}return{search:o,dateRange:g,loading:l,columns:h,rows:r,meta:s,links:n,editRow:i,handleFetch:p,handleEdit:w,handleDelete:D,handlePageChange:m,handlePageSizeChange:_}}const pt={class:"flex flex-col gap-5"},mt={class:"flex gap-2 justify-between"},ht={class:"flex-1"},gt={class:"flex justify-end mt-4"},ft=$({__name:"StockInTable",setup(t){const{search:e,rows:s,columns:n,loading:o,meta:l,handlePageChange:r,handlePageSizeChange:i,handleFetch:g}=dt(),h=le(),m=G(),_=()=>{},p=()=>{},w=()=>[];return H(()=>{g({notify:!1})}),(D,d)=>{const b=k("n-pagination");return y(),x("div",pt,[a("div",mt,[a("div",ht,[c(ge,{modelValue:u(e),"onUpdate:modelValue":d[0]||(d[0]=N=>Y(e)?e.value=N:null),dateRange:m.value,"onUpdate:dateRange":d[1]||(d[1]=N=>m.value=N),"onClick:export":_,"onClick:refresh":u(g)},null,8,["modelValue","dateRange","onClick:refresh"])]),a("div",null,[c(M,{label:"Scan Stock In",icon:u(oe),type:"primary",onClick:d[2]||(d[2]=N=>u(h).push({name:"employee-form"}))},null,8,["icon"])])]),a("div",null,[c(fe,{columns:u(n),data:u(s),loading:u(o)},{actions:S(({row:N})=>[c(ye,{row:N,"label-button-delete":"Delete","onClick:edit":w,"onClick:delete":d[3]||(d[3]=Lt=>p())},null,8,["row"])]),_:1},8,["columns","data","loading"])]),a("div",gt,[c(b,{page:u(l).currentPage,"page-size":u(l).perPage,"page-count":u(l).lastPage,"show-size-picker":"","page-sizes":[5,10,20,50],"onUpdate:page":u(r),"onUpdate:pageSize":u(i)},null,8,["page","page-size","page-count","onUpdate:page","onUpdate:pageSize"])])])}}}),yt={class:"flex flex-col gap-10"},_t={class:"flex justify-between items-end gap-10"},xt={class:"w-80 flex-auto"},bt={class:"text-xl font-bold mb-1"},vt={class:"w-10 flex-auto text-right"},kt={class:"flex justify-end items-center gap-2"},wt={class:"flex gap-2"},St={class:"w-full"},Ct={class:"flex gap-2"},Nt={class:"w-full md:w-[70%]"},Gt={class:"w-full md:w-[30%]"},es=$({__name:"StockInPageView",setup(t){const e=G({title:"Stock In",description:"The Stock In module records and manages all incoming bundles into the sewing line. It provides a clear overview of materials received, including bundle details, quantities, and timestamps."});ie({title:e.value.title,meta:[{name:"description",content:e.value.description}]});const{stockInTotal:s,linePerformance:n,handleFetchChartLines:o,loading:l}=te(),r=()=>{const h=new Date,m=new Date;m.setMonth(h.getMonth()-1),i.value=[m.getTime(),h.getTime()];const _=z(i.value);_&&_.length===2&&o({filters:{startDate:_[0],endDate:_[1]}},{notify:!1})},i=G(null),g=h=>{const m=z(h);m&&m.length===2&&o({filters:{startDate:m[0],endDate:m[1]}},{notify:!1}),i.value=h};return H(()=>{r()}),(h,m)=>{const _=k("n-date-picker");return y(),x("div",yt,[a("div",_t,[a("div",xt,[a("h2",bt,f(e.value.title),1),a("p",null,f(e.value.description),1)]),a("div",vt,[a("div",kt,[c(_,{value:i.value,type:"daterange",clearable:"",class:"w-80 inline-block","onUpdate:value":m[0]||(m[0]=p=>g(p))},null,8,["value"]),c(M,{label:"Refresh",icon:u(xe),type:"primary",tertiary:"",onClick:r},null,8,["icon"])])])]),a("div",null,[c(Fe,{line:u(n),slice:10,isLoading:u(l),isHorizontal:!0},null,8,["line","isLoading"])]),a("div",wt,[a("div",St,[a("div",Ct,[a("div",Nt,[c(ct,{"stock-in":u(s),isLoading:u(l)},null,8,["stock-in","isLoading"]),c(Xe)]),a("div",Gt,[c(Je)])])])]),c(ft)])}}});export{es as default};
