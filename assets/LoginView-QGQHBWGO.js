import{d as h,c as _,a as o,e as r,f as g,g as t,F as L,H as $,o as u,t as w,u as F,p as I,r as V,h as E,l as N,x as O,v as P,w as c,n as b,m as q,I as z,b as B}from"./index-Bj9qeEx5.js";import{W as M,P as W,L as j,a as H}from"./WarningOutline-D6XvBSHa.js";import{c as R,a as S}from"./index.esm-CMgMSMaE.js";import{u as U,a as k}from"./vee-validate-C1nJW4_u.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./_commonjsHelpers-CE1G-McA.js";const D={class:"card bg-red-50 rounded-lg p-6"},G={class:"mb-2 flex items-center text-xl text-bold"},T={class:"me-3 fw-bold"},Y={class:"text-sm text-danger"},J=h({__name:"ErrorCard",props:{errors:{default:()=>({})}},setup(m){const l=m;return(e,s)=>{const p=g("n-icon");return u(),_("div",null,[o("div",D,[o("p",G,[r(p,{component:t(M),color:"#ffcd03"},null,8,["component"]),s[0]||(s[0]=o("span",{class:"text-red-600 ms-3"},"Errors",-1))]),(u(!0),_(L,null,$(l.errors,(i,v)=>(u(),_("p",{key:i,class:"mb-1"},[o("span",T,w(v)+" :",1),o("span",Y,w(i),1)]))),128))])])}}}),K=R({email:S().required().email(),password:S().required().min(6,"Password must be at least 6 characters long")});function Q(){const m=F(),l=E(),e=I(),s=V(!1),{handleSubmit:p,errors:i,isSubmitting:v}=U({validationSchema:K}),{value:a}=k("email"),{value:f}=k("password"),x=p(async y=>{let d=null;s.value=!0;try{d=e.loading("We're sending your Credential, hold on...",{duration:0});const n=await m.login(y);d&&d.destroy(),s.value=!1,e.success(`Great to have you back, ${n.data.data.user.email}! ðŸŽ‰.`,{duration:3e3}),l.push({name:"dashboard"})}catch(n){d&&d.destroy(),console.error(n);const C=n?.response?.data?.message||"Invalid credentials, please try again.";s.value=!1,e.error(C,{duration:5e3})}});return{email:a,password:f,loading:s,errors:i,isSubmitting:v,submitForm:x}}const X={class:"mt-6"},Z=h({__name:"LoginForm",setup(m){const{email:l,password:e,errors:s,loading:p,submitForm:i}=Q();return(v,a)=>{const f=g("n-icon"),x=g("n-input"),y=g("n-space"),d=g("n-button");return u(),_("div",null,[o("form",{onSubmit:a[2]||(a[2]=P((...n)=>t(i)&&t(i)(...n),["prevent"]))},[r(y,{vertical:"",size:"large",class:"w-full"},{default:c(()=>[r(x,{type:"email",value:t(l),"onUpdate:value":a[0]||(a[0]=n=>b(l)?l.value=n:null),placeholder:"Email",size:"large",status:t(s).email?"error":""},{prefix:c(()=>[r(f,{component:t(W)},null,8,["component"])]),_:1},8,["value","status"]),r(x,{type:"password",value:t(e),"onUpdate:value":a[1]||(a[1]=n=>b(e)?e.value=n:null),placeholder:"Password",size:"large",status:t(s).password?"error":""},{prefix:c(()=>[r(f,{component:t(j)},null,8,["component"])]),_:1},8,["value","status"])]),_:1}),o("div",X,[r(d,{loading:t(p),strong:"",secondary:"",type:"primary",size:"large",class:"!w-full",onClick:t(i)},{icon:c(()=>[r(f,null,{default:c(()=>[r(t(H))]),_:1})]),default:c(()=>[a[3]||(a[3]=q(" Sign In ",-1))]),_:1},8,["loading","onClick"])])],32),t(s)&&Object.keys(t(s)).length>0?(u(),N(J,{key:0,errors:t(s),class:"mt-3"},null,8,["errors"])):O("",!0)])}}}),ee={class:"min-h-screen flex flex-col lg:flex-row"},te={class:"flex-1 flex flex-col items-center justify-center p-4 lg:p-8"},se={class:"p-10 w-full max-w-md"},oe=h({__name:"LoginView",setup(m){return z({title:"Login",meta:[{name:"description",content:"Page Login"}]}),(l,e)=>(u(),_("div",ee,[o("div",te,[o("div",se,[e[0]||(e[0]=o("h1",{class:"text-3xl font-bold text-gray-800"},"Sign In",-1)),e[1]||(e[1]=o("p",{class:"mt-2 mb-6 text-lg text-gray-600"},"Enter your email and password to sign in",-1)),r(Z)])]),e[2]||(e[2]=B('<div class="flex-1 p-4 lg:p-3" data-v-cd8efd85><div class="login-container h-full rounded-lg overflow-hiden" data-v-cd8efd85>d <div class="login-overlay flex flex-col items-center justify-center h-full" data-v-cd8efd85><h1 class="text-white text-2xl font-bold drop-shadow-md text-center" data-v-cd8efd85> &quot;Stitch Your Imagination&quot; </h1><p class="text-white text-lg" data-v-cd8efd85>Where every thread tells a story, and every design becomes reality. </p></div></div></div>',1))]))}}),ce=A(oe,[["__scopeId","data-v-cd8efd85"]]);export{ce as default};
