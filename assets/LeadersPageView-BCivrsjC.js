import{E as n,D as p,p as g,s as f,d as h,y as S,c as L,o as A}from"./index-BnOAq3x5.js";import{A as m}from"./api.schema-B7NsqcGR.js";import{c as B}from"./defect.summaryApi-CUJMEH2X.js";import{o as d,s as a,n as _,a as o}from"./types-CVZIcfwR.js";const r="/api",b={getAssignments:()=>n.get(`${r}/leaders`).then(s=>s.data),createAssign:s=>n.post(`${r}/leaders/assign`,s).then(e=>e.data),createUnassign:s=>n.post(`${r}/leaders/unassign`,s).then(e=>e.data)},l=d({assignAt:a(),unassignAt:a().nullable(),lineId:_().nullable(),lineName:a().nullable(),createdBy:a(),updatedBy:a().nullable(),lastUpdated:a()}),w=d({leader:a(),activeLines:a(),lastUpdated:a().nullable(),activeDetail:o(l),inactiveDetail:o(l)}),v=B(o(w)),T=p("leaderStore",{state:()=>({loading:!1,error:null,AssignmentSummaryByLeader:[]}),actions:{async fetchSummaryByLeader(){this.loading=!0,this.error=null;try{const s=await b.getAssignments(),e=v.parse(s);return this.AssignmentSummaryByLeader=e.data,m.parse({success:!0,message:e.message??"loaded"})}catch(s){const e=s?.response?.data?.message||"Something went wrong";return this.error=e,m.parse({success:!1,message:e})}finally{this.loading=!1}}}});function D(){const s=g(),e=T(),{AssignmentSummaryByLeader:i}=f(e);return{AssignmentSummaryByLeader:i,fetchSummaryByLeader:async(y={notify:!0})=>{const{success:c,message:t}=await e.fetchSummaryByLeader();return y.notify&&(c?s.success(t):s.error(t)),{success:c,message:t}}}}const U=h({__name:"LeadersPageView",setup(s){const{fetchSummaryByLeader:e}=D();return S(async()=>{await e()}),(i,u)=>(A(),L("div",null,"keader"))}});export{U as default};
